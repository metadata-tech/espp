<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="img/jatanegara.png" type="image/x-icon" />
  <title>eSPP</title>
  <link rel="stylesheet" href="assets/fontawesome-pro-6.5.1-web/css/all.css" />
  <link rel="stylesheet" href="assets/bootstrap-5.3.2-dist/css/bootstrap.min.css" />
  <link rel="stylesheet" href="css/login.css" />
  <link rel="shortcut icon" href="#" />
</head>

<body>
  <div class="bg-pattern d-flex align-items-center justify-content-center min-vh-100">
    <div class="card border-0 m-3 mt-5 rounded-0 shadow bg-white bg-opacity-75" style="width: 50em">
      <div
        class="card-icon-top-custom bg-custom border border-4 border-light border-opacity-20 rounded-circle text-center">
        <i class="fa fa-envelope fa-top-img position-absolute top-50 start-50 translate-middle text-white"></i>
      </div>
      <div class="card-body px-md-5 px-4 pt-5 pb-4">
        <div class="px-0">
          <div class="d-flex align-items-start">
            <div class="p-0 flex-fill">
              <span class="logo-sm"><span class="logo-e me-1">e</span>SPP</span>
            </div>
          </div>
          <hr class="hr-custom mt-2" />
        </div>
        <form id="contactForm" method="POST" novalidate>
          <!-- <h5 class="mb-2 fw-medium ps-1">Hubungi Kami</h5> -->
          <div class="form-group mb-2">
            <label for="contactName" class="col-form-label fw-medium ps-1">Nama <span class="text-danger">*</span></label>
            <div class="input-group has-validation">
              <input type="text" name="contactName" id="contactName" class="form-control btn-text border rounded-0 bg-white" placeholder="Nama" required />
              <button class="btn btn-input border bg-white rounded-0" type="button" style="cursor: default">
                <i class="far fa-user"></i>
              </button>
              <div class="invalid-feedback mt-0">Sila masukkan nama</div>
            </div>
          </div>
          <div class="row">
            <div class="col-6">
              <div class="form-group mb-2">
                <label for="contactEmail" class="col-form-label fw-medium ps-1">Emel <span class="text-danger">*</span></label>
                <div class="input-group has-validation">
                  <input type="text" name="contactEmail" id="contactEmail" class="form-control btn-text border rounded-0 bg-white" placeholder="Emel" required />
                  <button class="btn btn-input border bg-white rounded-0" type="button" style="cursor: default">
                    <i class="far fa-envelope"></i>
                  </button>
                  <div class="invalid-feedback mt-0">Sila masukkan emel yang sah</div>
                </div>
              </div>
            </div>
            <div class="col-6">
              <div class="form-group mb-2">
                <label for="contactPhone" class="col-form-label fw-medium ps-1">No. Telefon <span class="text-danger">*</span></label>
                <div class="input-group has-validation">
                  <input type="text" name="contactPhone" id="contactPhone" class="form-control btn-text border rounded-0 bg-white" placeholder="No. Telefon" required />
                  <button class="btn btn-input border bg-white rounded-0" type="button" style="cursor: default">
                    <i class="far fa-phone"></i>
                  </button>
                  <div class="invalid-feedback mt-0">Sila masukkan no. telefon</div>
                </div>
              </div>
            </div>
          </div>
          <div class="form-group mb-2">
            <label for="contactSubject" class="col-form-label fw-medium ps-1">Subjek <span class="text-danger">*</span></label>
            <div class="input-group has-validation">
              <input type="text" name="contactSubject" id="contactSubject" class="form-control border border-2 rounded-0 bg-white" placeholder="Subjek" required />
              <div class="invalid-feedback mt-0">Sila masukkan subjek</div>
            </div>
          </div>
          <div class="form-group mb-2">
            <label for="contactMessage" class="col-form-label fw-medium ps-1">Mesej <span class="text-danger">*</span></label>
            <div class="input-group has-validation">
              <textarea class="form-control border border-2 rounded-0 bg-white" placeholder="Mesej" name="contactMessage" id="contactMessage" required></textarea>
              <div class="invalid-feedback mt-0">Sila masukkan mesej</div>
            </div>
          </div>
          <div class="mt-3 d-grid gap-2">
            <div class="row">
              <div class="col-6 d-grid">
                <button type="button" class="btn btn-custom btn-block rounded-0 shadow-bottom p-2 btn-submit">Hantar</button>
              </div>
              <div class="col-6 d-grid">
                <button type="button" class="btn btn-outline-custom rounded-0 p-2" onclick="resetForm()">Set Semula</button>
              </div>
            </div>
            <a href="/login" class="btn btn-custom-text p-1 fw-medium border-0">Kembali</a>
          </div>
        </form>
        <span id="err" class="mt-2" style="font-size: 0.875rem; display: none"></span>
      </div>
      <div class="card-footer bg-custom text-white text-center px-3 py-3 rounded-bottom-0 border-0 shadow-top">
        <small>
          Hakcipta Terpelihara 2025 Â©
          <div class="fw-light">
            Suruhanjaya Perkhidmatan Pendidikan Malaysia
          </div>
        </small>
      </div>
    </div>
  </div>

  <script src="assets/bootstrap-5.3.2-dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/jquery-3.7.1.min.js"></script>
  <script src="js/sanitize.js"></script>

  <script src="js/custom.js"></script>
  <script type="text/javascript" src="../admin/js/mdb.js"></script>
  <script type="text/javascript" src="../admin/js/addons/crypto.js"></script>
  <script type="text/javascript">
    document.write("<scr" + 'ipt src="../admin/js/common.js?' + new Date().valueOf() + '" type="text/javascript"></scr' + "ipt>");

    $(document).ready(function () {});

    $(".btn-submit").on("click", function () {
      console.log('222');
      var form = document.getElementById("contactForm");
      event.preventDefault();

      if (!form.checkValidity()) {
        event.preventDefault();
        event.stopPropagation();
      }

      let emel = document.getElementById("contactEmail");
      let emailRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
      if (!emailRegex.test(emel.value)) {
        emel.setCustomValidity("Sila masukkan emel yang sah.");
      } else {
        emel.setCustomValidity("");
      }

      form.classList.add("was-validated");

      if (form.checkValidity()) {
        $(form).removeClass("was-validated");
        event.preventDefault();

        try {
          const data = {
            contactEmail: $("#contactEmail").val(),
            contactName: $("#contactName").val(),
          };
        } catch (e) {
          $("#err").css("display", "block").addClass("text-danger").html(e.message).delay(15000).fadeOut();
        }
      }
    });

    function resetForm() {
      console.log(111);
      $("#err").css("display", "none").html('');
      var form = $('#contactForm')[0];
      $(form).removeClass('was-validated');
      form.reset();
    }
  </script>
</body>

</html>
